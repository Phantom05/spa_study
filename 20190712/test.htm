<!-- <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

  <style>
    .heighty {
      height: 2000px;
      border: 1px solid red;
    }

    .hehehe {
      height: 1000px;
      border: 1px solid blue;
    }

    .std-btn {
      transition: .5s;
      opacity: 0;
      background: brown;
      color: #fff;
    }

    .std-btn.open {
      opacity: 1;
    }
  </style>
</head>

<body>
  sss
  <div class="heighty">
    hello world
  </div>
  <div id="widget">
    <div class="std-btn">Open</div>
  </div>
  <div class="hehehe">
    f
  </div>

  <script>
var controller = new ScrollMagic.Controller();

var scene = new ScrollMagic.Scene({
triggerElement: "#trigger1"
})
.setTween("#animate1", 0.5, {backgroundColor: "green", scale: 2.5}) // trigger a TweenMax.to tween
.addIndicators({name: "1 (duration: 0)"}) // add indicators (requires plugin)
.addTo(controller);

                
    function widgetController() {
      var e = window.innerHeight;
      $(window).scroll(function () {
        $(this).scrollTop() >= e ? $("#widget .std-btn").addClass("open") : $("#widget .std-btn").removeClass(
          "open")
      })
    }


    function scrollAnimation() {
      var t = new ScrollMagic.Controller;
      $(".title-layout").each(function () {
          var e = TweenMax.from($(this).find("h2"), 1, {
              yPercent: 40,
              autoAlpha: 0
            }, 0),
            i = (new ScrollMagic.Scene({
                triggerElement: this,
                triggerHook: .7
              }).setTween(e).addTo(t),
              TweenMax.fromTo($(this).find(".separator"), 1, {
                css: {
                  width: "0px"
                }
              }, {
                css: {
                  width: "200px"
                }
              }));
          new ScrollMagic.Scene({
            triggerElement: this,
            triggerHook: .7
          }).setTween(i).addTo(t)
        }),
        $(".in-container").each(function () {
          var e = TweenMax.from($(this).find(".in-item"), 1, {
            yPercent: 40,
            autoAlpha: 0
          }, 0);
          new ScrollMagic.Scene({
            triggerElement: this,
            triggerHook: .7
          }).setTween(e).addTo(t)
        }),
        $(".in-container-series").each(function () {
          if ("x" == $(this).attr("data-direction"))
            var e = TweenMax.staggerFrom($(this).find(".in-item"), 1, {
              x: -40,
              alpha: 0
            }, .2);
          else
            e = TweenMax.staggerFrom($(this).find(".in-item"), 1, {
              yPercent: 20,
              alpha: 0
            }, .2);
          new ScrollMagic.Scene({
            triggerElement: this,
            triggerHook: .7
          }).setTween(e).addTo(t)
        }),
        $(".slick-current .glow").each(function () {
          new ScrollMagic.Scene({
            triggerElement: this,
            triggerHook: .7
          }).setClassToggle(this, "active").addTo(t)
        }),
        $(".block-reveal:not(.lp-block-reveal):not(.menu-reveal)").each(function () {
          new ScrollMagic.Scene({
            triggerElement: this,
            triggerHook: .7
          }).setClassToggle(this, "active").addTo(t)
        }),
        $(".glow-icon .glow").each(function () {
          new ScrollMagic.Scene({
            triggerElement: this,
            triggerHook: .7
          }).setClassToggle(this, "active").addTo(t)
        }),
        $(".animated-svg-layout").each(function () {
          new ScrollMagic.Scene({
            triggerElement: this,
            triggerHook: .7
          }).on("enter leave", function () {
            $(".animated-svg-layout g").each(function (e) {
              var i = $(this);
              setTimeout(function () {
                i.fadeIn("slow")
              }, 1e3 * e)
            })
          }).addTo(t)
        }),
        $(".sticky-item").each(function () {
          function a(e) {
            i = $("#team .slick-current").outerHeight(!0)
          }
          var i, e = $("header").outerHeight(!0);
          $(window).on("resize", a),
            $(window).triggerHandler("resize"),
            $(".slider-sticky").on("afterChange", function (e, i, t, n) {
              a()
            });
          new ScrollMagic.Scene({
            offset: -e,
            triggerElement: this,
            triggerHook: 0,
            duration: function () {
              return i
            }
          }).setPin(this, {
            pushFollowers: !1
          }).addTo(t)
        })
    }


    // $(document).ready(function () {
    //     basicServices(),
    //       headerController(),
    //       widgetController(),
    //       getRSS("https://medium.com/feed/yggdrash/tagged/yggdrash"),
    //       videoInModal(),
    //       prepareLpAnimation(),
    //       teamFunction(),
    //       timeline()
    //   }),
    //   $(window).on("load", function () {
    //     mainLoader(200),
    //       slider(),
    //       lpAnimation(),
    //       scrollAnimation()
    //   });

    widgetController()
  </script>
</body>

</html> -->

<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="google" value="notranslate">
  <title>CodePen - Fadein/Fadeout</title>
  <style type="text/css">
    /*
	Demo Styles: NOT REQUIRED
*/
    html,
    body {
      margin: 0;
      height: 100%;
    }

    h1,
    p {
      margin: 0;
      padding: 0;
    }

    header {
      position: fixed;
      top: 10px;
      left: 10px;
    }

    section,
    section>div {
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #EFEFEF;
    }

    .full-screen {
      height: 100%;
      /* makes panels the entire window height */
    }

    .blue {
      background-color: #3883d8;
    }

    .red {
      background-color: #cf3535;
    }

    #fadein-trigger>div {
      height: 400px;
      opacity: 0;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
</head>

<body>
  <header role="banner">
    <img src="//s3-us-west-2.amazonaws.com/s.cdpn.io/392/demo_tophat.png" width="64" height="auto" alt="scroll magic">
  </header>
  <main class="full-screen" role="main">
    <section class="full-screen blue">
      <div>
        <h1>Fade In Fade out</h1>
      </div>
    </section>

    <section id="fadein-trigger" class="red">
      <div>
        <h1>Fadein Trigger</h1>
        <p>This text will fade in and fade out as you scrollâ€¦yo!</p>
      </div>
    </section>

    <section class="full-screen blue" id="fadeout-trigger">
      <div>
        <h1>Fadeout Trigger</h1>
      </div>
    </section>
  </main>

  <!-- <script src="//assets.codepen.io/assets/common/stopExecutionOnTimeout-f961f59a28ef4fd551736b43f94620b5.js"></script> -->
  <!-- <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.1/ScrollMagic.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.1/plugins/animation.gsap.js'></script> -->
  <script type="text/javascript">
    // console.dir(window)
    // console.log(document.readyState );

    // var fadein_tween = TweenMax.to('#fadein-trigger > div', .375,{ opacity: 1 });
    // var fadeout_tween = TweenMax.to('#fadein-trigger > div', .375,{ opacity: 0 });
    // var controller = new ScrollMagic.Controller();
    // var fadein_scene = new ScrollMagic.Scene({
    //   triggerElement: '#fadein-trigger',
    //   reverse: true
    // })
    // .setTween(fadein_tween)
    // .addTo(controller);
    // var fadeout_scene = new ScrollMagic.Scene({
    //   triggerElement: '#fadeout-trigger',
    //   reverse: true
    // })

    // .setTween(fadeout_tween)
    // .addTo(controller);

    function log(txt) {
      console.log(txt);
    }

    log('initial readyState:' + document.readyState);
    if (document.readyState == "loading") {
      document.write('Loding')
    }

    document.addEventListener('readystatechange', () => log('readyState:' + document.readyState));
    document.addEventListener('DOMContentLoaded', () => log('DOMContentLoaded'));

    window.onload = () => log('window onload');



    var alreadyrunflag = 0 //flag to indicate whether target function has already been run 

    if (document.addEventListener)
      document.addEventListener("DOMContentLoaded", function () {
        alreadyrunflag = 1;
        walkmydog()
      }, false)
    else if (document.all && !window.opera) {
      document.write(
        '<script type="text/javascript" id="contentloadtag" defer="defer" src="javascript:void(0)"><\/script>')
      var contentloadtag = document.getElementById("contentloadtag")
      contentloadtag.onreadystatechange = function () {
        if (this.readyState == "complete") {
          alreadyrunflag = 1
          // perform what you need to 
        }
      }
    }

    window.onload = function () {
      setTimeout("if (!alreadyrunflag) doYourStuff()", 0)
    }
  </script>
</body>

</html>